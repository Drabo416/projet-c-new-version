<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Référence du fichier function-bd.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Recherche','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Fonctions</a>  </div>
  <div class="headertitle">
<div class="title">Référence du fichier function-bd.c</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="struc_8h_source.html">struc.h</a>&quot;</code><br />
<code>#include &lt;mysql/mysql.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Graphe des dépendances par inclusion de function-bd.c:</div>
<div class="dyncontent">
<div class="center"><img src="function-bd_8c__incl.png" border="0" usemap="#afunction-bd_8c" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Fonctions</h2></td></tr>
<tr class="memitem:a3c02e2ad6109da33dbb21de526f4b7b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#a3c02e2ad6109da33dbb21de526f4b7b4">createUser</a> (MYSQL *db, <a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a> *<a class="el" href="structuser.html">user</a>)</td></tr>
<tr class="separator:a3c02e2ad6109da33dbb21de526f4b7b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a795bf925a246abd3a1984e7dc733db7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#a795bf925a246abd3a1984e7dc733db7c">createEvent</a> (MYSQL *db, <a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *<a class="el" href="structevent.html">event</a>)</td></tr>
<tr class="separator:a795bf925a246abd3a1984e7dc733db7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08279cf6a88accd06743c978a8b50473"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#a08279cf6a88accd06743c978a8b50473">getUsers</a> (MYSQL *db)</td></tr>
<tr class="memdesc:a08279cf6a88accd06743c978a8b50473"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction pour créer un nouvel utilisateur dans la base de données.  <a href="function-bd_8c.html#a08279cf6a88accd06743c978a8b50473">Plus de détails...</a><br /></td></tr>
<tr class="separator:a08279cf6a88accd06743c978a8b50473"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a656eebee439bd5f57805341746465b64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#a2be6cff79d24682be3e84aa7b649d892">Ticket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#a656eebee439bd5f57805341746465b64">createTicket</a> (MYSQL *db, <a class="el" href="struc_8h.html#a2be6cff79d24682be3e84aa7b649d892">Ticket</a> *<a class="el" href="structticket.html">ticket</a>, <a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *<a class="el" href="structevent.html">event</a>, <a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a> *<a class="el" href="structuser.html">user</a>)</td></tr>
<tr class="memdesc:a656eebee439bd5f57805341746465b64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction pour créer un nouveau ticket dans la base de données pour un utilisateur et un événement donné  <a href="function-bd_8c.html#a656eebee439bd5f57805341746465b64">Plus de détails...</a><br /></td></tr>
<tr class="separator:a656eebee439bd5f57805341746465b64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9ca1372bc353c4f2b8513946c64f6e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#ae9ca1372bc353c4f2b8513946c64f6e4">createReservation</a> (MYSQL *db, <a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a> *<a class="el" href="structuser.html">user</a>, <a class="el" href="struc_8h.html#ada528b7d640498194e7205985520646d">Place</a> *<a class="el" href="structplace.html">place</a>)</td></tr>
<tr class="memdesc:ae9ca1372bc353c4f2b8513946c64f6e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction pour créer une réservation dans la base de données pour un utilisateur et une place donnée.  <a href="function-bd_8c.html#ae9ca1372bc353c4f2b8513946c64f6e4">Plus de détails...</a><br /></td></tr>
<tr class="separator:ae9ca1372bc353c4f2b8513946c64f6e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2d10defbb427880df651cc40918d55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#a3f2d10defbb427880df651cc40918d55">createCommander</a> (MYSQL *db, <a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a> *<a class="el" href="structuser.html">user</a>, <a class="el" href="struc_8h.html#a2c54d8dd00dce800770714245e8956a3">Plat</a> *<a class="el" href="structplat.html">plat</a>)</td></tr>
<tr class="memdesc:a3f2d10defbb427880df651cc40918d55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction pour créer une commande dans la base de données pour un utilisateur et un plat donné  <a href="function-bd_8c.html#a3f2d10defbb427880df651cc40918d55">Plus de détails...</a><br /></td></tr>
<tr class="separator:a3f2d10defbb427880df651cc40918d55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad85f2c9623c3c268cb933ec16a279598"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#a2c54d8dd00dce800770714245e8956a3">Plat</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#ad85f2c9623c3c268cb933ec16a279598">createPlat</a> (MYSQL *db, <a class="el" href="struc_8h.html#a2c54d8dd00dce800770714245e8956a3">Plat</a> *<a class="el" href="structplat.html">plat</a>, <a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *<a class="el" href="structevent.html">event</a>)</td></tr>
<tr class="memdesc:ad85f2c9623c3c268cb933ec16a279598"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction pour créer un nouveau plat dans la base de données pour un événement donné  <a href="function-bd_8c.html#ad85f2c9623c3c268cb933ec16a279598">Plus de détails...</a><br /></td></tr>
<tr class="separator:ad85f2c9623c3c268cb933ec16a279598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8df4fb9e8e3dd4f7e5f5587e2d58b28d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#ada528b7d640498194e7205985520646d">Place</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#a8df4fb9e8e3dd4f7e5f5587e2d58b28d">createPlace</a> (MYSQL *db, <a class="el" href="struc_8h.html#ada528b7d640498194e7205985520646d">Place</a> *<a class="el" href="structplace.html">place</a>, <a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *<a class="el" href="structevent.html">event</a>)</td></tr>
<tr class="memdesc:a8df4fb9e8e3dd4f7e5f5587e2d58b28d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction pour créer une nouvelle place dans la base de données pour un événement donné  <a href="function-bd_8c.html#a8df4fb9e8e3dd4f7e5f5587e2d58b28d">Plus de détails...</a><br /></td></tr>
<tr class="separator:a8df4fb9e8e3dd4f7e5f5587e2d58b28d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b359274b0442de3df9d4013ed6c4d1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#afbe8e138e1d2fd861f6c09f63954e927">Session</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#a0b359274b0442de3df9d4013ed6c4d1f">createSession</a> (MYSQL *db, <a class="el" href="struc_8h.html#afbe8e138e1d2fd861f6c09f63954e927">Session</a> *<a class="el" href="structsession.html">session</a>, <a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *<a class="el" href="structevent.html">event</a>)</td></tr>
<tr class="memdesc:a0b359274b0442de3df9d4013ed6c4d1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crée une nouvelle session dans la base de données pour un événement donné  <a href="function-bd_8c.html#a0b359274b0442de3df9d4013ed6c4d1f">Plus de détails...</a><br /></td></tr>
<tr class="separator:a0b359274b0442de3df9d4013ed6c4d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85cfa50a790ad4070a6e12846b111a61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#a7be70f7244cbc0812a720373117ac45e">Film</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#a85cfa50a790ad4070a6e12846b111a61">createFilm</a> (MYSQL *db, <a class="el" href="struc_8h.html#a7be70f7244cbc0812a720373117ac45e">Film</a> *<a class="el" href="structfilm.html">film</a>, <a class="el" href="struc_8h.html#afbe8e138e1d2fd861f6c09f63954e927">Session</a> *<a class="el" href="structsession.html">session</a>)</td></tr>
<tr class="memdesc:a85cfa50a790ad4070a6e12846b111a61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crée un nouveau film dans la base de données pour une session donnée.  <a href="function-bd_8c.html#a85cfa50a790ad4070a6e12846b111a61">Plus de détails...</a><br /></td></tr>
<tr class="separator:a85cfa50a790ad4070a6e12846b111a61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe9e952d0bb9ecf509b6d69f3be49d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#a3fe9e952d0bb9ecf509b6d69f3be49d9">updateEvent</a> (MYSQL *db, <a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *<a class="el" href="structevent.html">event</a>)</td></tr>
<tr class="memdesc:a3fe9e952d0bb9ecf509b6d69f3be49d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Met à jour un événement dans la base de données.  <a href="function-bd_8c.html#a3fe9e952d0bb9ecf509b6d69f3be49d9">Plus de détails...</a><br /></td></tr>
<tr class="separator:a3fe9e952d0bb9ecf509b6d69f3be49d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad22c1542fdbf5eedc5cab0416d7c59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#adad22c1542fdbf5eedc5cab0416d7c59">deleteEvent</a> (MYSQL *db, <a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *<a class="el" href="structevent.html">event</a>)</td></tr>
<tr class="memdesc:adad22c1542fdbf5eedc5cab0416d7c59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Supprime un événement de la base de données.  <a href="function-bd_8c.html#adad22c1542fdbf5eedc5cab0416d7c59">Plus de détails...</a><br /></td></tr>
<tr class="separator:adad22c1542fdbf5eedc5cab0416d7c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbad9aa2a5a8e515f6bc7e563b614479"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#a2c54d8dd00dce800770714245e8956a3">Plat</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#adbad9aa2a5a8e515f6bc7e563b614479">getPlatByEventId</a> (MYSQL *db, <a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *<a class="el" href="structevent.html">event</a>)</td></tr>
<tr class="memdesc:adbad9aa2a5a8e515f6bc7e563b614479"><td class="mdescLeft">&#160;</td><td class="mdescRight">Récupère tous les plats associés à un événement donné dans la base de données.  <a href="function-bd_8c.html#adbad9aa2a5a8e515f6bc7e563b614479">Plus de détails...</a><br /></td></tr>
<tr class="separator:adbad9aa2a5a8e515f6bc7e563b614479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a206126954c808f6bf94a5aea8ecb1d19"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#afbe8e138e1d2fd861f6c09f63954e927">Session</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#a206126954c808f6bf94a5aea8ecb1d19">getSessionByEventId</a> (MYSQL *db, <a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *<a class="el" href="structevent.html">event</a>)</td></tr>
<tr class="memdesc:a206126954c808f6bf94a5aea8ecb1d19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Récupère toutes les sessions associées à un événement donné dans la base de données.  <a href="function-bd_8c.html#a206126954c808f6bf94a5aea8ecb1d19">Plus de détails...</a><br /></td></tr>
<tr class="separator:a206126954c808f6bf94a5aea8ecb1d19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaee5408f4f783ab52d66026baabb539"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#ada528b7d640498194e7205985520646d">Place</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#adaee5408f4f783ab52d66026baabb539">getPlaceByEventId</a> (MYSQL *db, <a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *<a class="el" href="structevent.html">event</a>)</td></tr>
<tr class="memdesc:adaee5408f4f783ab52d66026baabb539"><td class="mdescLeft">&#160;</td><td class="mdescRight">Récupère toutes les places associées à un événement donné dans la base de données.  <a href="function-bd_8c.html#adaee5408f4f783ab52d66026baabb539">Plus de détails...</a><br /></td></tr>
<tr class="separator:adaee5408f4f783ab52d66026baabb539"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1356d9f82b02a369219b7476d75250d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#a2be6cff79d24682be3e84aa7b649d892">Ticket</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#aa1356d9f82b02a369219b7476d75250d">getTicketByUserId</a> (MYSQL *db, <a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a> *<a class="el" href="structuser.html">user</a>, <a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> **<a class="el" href="structevent.html">event</a>)</td></tr>
<tr class="memdesc:aa1356d9f82b02a369219b7476d75250d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Récupère le ticket associé à un utilisateur et à un événement donnés dans la base de données.  <a href="function-bd_8c.html#aa1356d9f82b02a369219b7476d75250d">Plus de détails...</a><br /></td></tr>
<tr class="separator:aa1356d9f82b02a369219b7476d75250d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3c6cfaad3a60fe9b3a8585f4d68d1a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#ae3c6cfaad3a60fe9b3a8585f4d68d1a8">getEvents</a> (MYSQL *db)</td></tr>
<tr class="memdesc:ae3c6cfaad3a60fe9b3a8585f4d68d1a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Récupère tous les événements stockés dans la base de données. Cette fonction se connecte à la base de données via le pointeur db fourni, et récupère tous les événements stockés dans la table "events". Elle renvoie un pointeur vers un tableau d'événements alloué dynamiquement. Si aucun événement n'est trouvé dans la base de données, la fonction renvoie NULL.  <a href="function-bd_8c.html#ae3c6cfaad3a60fe9b3a8585f4d68d1a8">Plus de détails...</a><br /></td></tr>
<tr class="separator:ae3c6cfaad3a60fe9b3a8585f4d68d1a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98161e83bb97f93ff44200aced82e97e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struc_8h.html#a7be70f7244cbc0812a720373117ac45e">Film</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#a98161e83bb97f93ff44200aced82e97e">getFilmBySessionId</a> (MYSQL *db, <a class="el" href="struc_8h.html#afbe8e138e1d2fd861f6c09f63954e927">Session</a> *<a class="el" href="structsession.html">session</a>)</td></tr>
<tr class="memdesc:a98161e83bb97f93ff44200aced82e97e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Récupère tous les films associés à une session donnée. Cette fonction se connecte à la base de données via le pointeur db fourni, et récupère tous les films associés à la session fournie dans la table "films". Elle renvoie un pointeur vers un tableau de films alloué dynamiquement. Si aucun film n'est trouvé dans la base de données pour la session fournie, la fonction renvoie NULL.  <a href="function-bd_8c.html#a98161e83bb97f93ff44200aced82e97e">Plus de détails...</a><br /></td></tr>
<tr class="separator:a98161e83bb97f93ff44200aced82e97e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfabec1ac7ace6cf06d46acaaff1ac00"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function-bd_8c.html#abfabec1ac7ace6cf06d46acaaff1ac00">authentification</a> (MYSQL *db, <a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a> *<a class="el" href="structuser.html">user</a>)</td></tr>
<tr class="memdesc:abfabec1ac7ace6cf06d46acaaff1ac00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vérifie l'authentification d'un utilisateur. Cette fonction se connecte à la base de données via le pointeur db fourni, et vérifie si l'utilisateur fourni est présent dans la table "users" avec le mot de passe correspondant. Elle renvoie true si l'authentification est réussie, sinon false.  <a href="function-bd_8c.html#abfabec1ac7ace6cf06d46acaaff1ac00">Plus de détails...</a><br /></td></tr>
<tr class="separator:abfabec1ac7ace6cf06d46acaaff1ac00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Documentation des fonctions</h2>
<a id="abfabec1ac7ace6cf06d46acaaff1ac00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfabec1ac7ace6cf06d46acaaff1ac00">&#9670;&nbsp;</a></span>authentification()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool authentification </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a> *&#160;</td>
          <td class="paramname"><em>user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vérifie l'authentification d'un utilisateur. Cette fonction se connecte à la base de données via le pointeur db fourni, et vérifie si l'utilisateur fourni est présent dans la table "users" avec le mot de passe correspondant. Elle renvoie true si l'authentification est réussie, sinon false. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données. </td></tr>
    <tr><td class="paramname">user</td><td>Pointeur vers l'utilisateur à vérifier. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>true si l'authentification est réussie, sinon false. </dd></dl>
<div class="fragment"><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                                              {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_champs = 0;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *lengths;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;     sprintf(query, <span class="stringliteral">&quot;select * from user where email=\&quot;%s\&quot; and password=\&quot;%s\&quot;&quot;</span>, <a class="code" href="structuser.html">user</a>-&gt;<a class="code" href="structuser.html#a75e4d75591faf8a0ae89d2d46e70cd67">email</a>, <a class="code" href="structuser.html">user</a>-&gt;<a class="code" href="structuser.html#a4786f90608b0050c6dbf96490ebb6eea">password</a>);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;     num_champs = mysql_num_fields(result);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;     <span class="keywordtype">bool</span> isAuth = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;     <span class="keywordflow">while</span> ((row = mysql_fetch_row(result))){</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;          isAuth= <span class="keyword">true</span>;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      }</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;     <span class="keywordflow">return</span> isAuth;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="ttc" id="astructuser_html"><div class="ttname"><a href="structuser.html">user</a></div><div class="ttdef"><b>Definition:</b> struc.h:10</div></div>
<div class="ttc" id="astructuser_html_a4786f90608b0050c6dbf96490ebb6eea"><div class="ttname"><a href="structuser.html#a4786f90608b0050c6dbf96490ebb6eea">user::password</a></div><div class="ttdeci">char password[100]</div><div class="ttdef"><b>Definition:</b> struc.h:16</div></div>
<div class="ttc" id="astructuser_html_a75e4d75591faf8a0ae89d2d46e70cd67"><div class="ttname"><a href="structuser.html#a75e4d75591faf8a0ae89d2d46e70cd67">user::email</a></div><div class="ttdeci">char email[100]</div><div class="ttdef"><b>Definition:</b> struc.h:15</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3f2d10defbb427880df651cc40918d55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f2d10defbb427880df651cc40918d55">&#9670;&nbsp;</a></span>createCommander()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void createCommander </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a> *&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#a2c54d8dd00dce800770714245e8956a3">Plat</a> *&#160;</td>
          <td class="paramname"><em>plat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction pour créer une commande dans la base de données pour un utilisateur et un plat donné </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">user</td><td>Pointeur vers l'utilisateur qui effectue la commande </td></tr>
    <tr><td class="paramname">plat</td><td>Pointeur vers le plat commandé </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                                                          {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;     <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;     sprintf(query, <span class="stringliteral">&quot;insert into commander (use_id, pla_id) values(\&quot;%d\&quot;, \&quot;%d\&quot;)&quot;</span>, <a class="code" href="structuser.html">user</a>-&gt;<a class="code" href="structuser.html#a7c4bd95a9611df1bae140f2ce6648c5a">id</a>, <a class="code" href="structplat.html">plat</a>-&gt;<a class="code" href="structplat.html#aa79fc2c7d59677037226936c69e05040">id</a>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div>
<div class="ttc" id="astructplat_html"><div class="ttname"><a href="structplat.html">plat</a></div><div class="ttdoc">Structure représentant un plat.</div><div class="ttdef"><b>Definition:</b> struc.h:101</div></div>
<div class="ttc" id="astructplat_html_aa79fc2c7d59677037226936c69e05040"><div class="ttname"><a href="structplat.html#aa79fc2c7d59677037226936c69e05040">plat::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> struc.h:102</div></div>
<div class="ttc" id="astructuser_html_a7c4bd95a9611df1bae140f2ce6648c5a"><div class="ttname"><a href="structuser.html#a7c4bd95a9611df1bae140f2ce6648c5a">user::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> struc.h:11</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a795bf925a246abd3a1984e7dc733db7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a795bf925a246abd3a1984e7dc733db7c">&#9670;&nbsp;</a></span>createEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a>* createEvent </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;{</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;     <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;     sprintf(query, <span class="stringliteral">&quot;insert into event(type, place, date_event, label) values(\&quot;%s\&quot;, \&quot;%s\&quot;, \&quot;%s\&quot;,\&quot;%s\&quot;)&quot;</span>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#a85cb31e3168290349d1d413cd16d5e6d">type</a>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#aff19ea99812a1bde1467424c296f74f2">lieu</a>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#a3fa0d88aa80ecf108a74c45e8c0e71c5">dateEvent</a>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#ab36786006bd272b70d17bdfb8fcdc939">label</a>);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;     <span class="keywordtype">char</span> query2[] = <span class="stringliteral">&quot;select last_insert_id()&quot;</span>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;     mysql_query(db, query2);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;     row = mysql_fetch_row(result);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;     <span class="keyword">event</span>-&gt;id = atoi(row[0]);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;}</div>
<div class="ttc" id="astructevent_html"><div class="ttname"><a href="structevent.html">event</a></div><div class="ttdoc">Structure représentant un événement Cette structure représente un événement et contient son identifia...</div><div class="ttdef"><b>Definition:</b> struc.h:74</div></div>
<div class="ttc" id="astructevent_html_a3fa0d88aa80ecf108a74c45e8c0e71c5"><div class="ttname"><a href="structevent.html#a3fa0d88aa80ecf108a74c45e8c0e71c5">event::dateEvent</a></div><div class="ttdeci">char dateEvent[100]</div><div class="ttdef"><b>Definition:</b> struc.h:79</div></div>
<div class="ttc" id="astructevent_html_a85cb31e3168290349d1d413cd16d5e6d"><div class="ttname"><a href="structevent.html#a85cb31e3168290349d1d413cd16d5e6d">event::type</a></div><div class="ttdeci">char type[100]</div><div class="ttdef"><b>Definition:</b> struc.h:76</div></div>
<div class="ttc" id="astructevent_html_ab36786006bd272b70d17bdfb8fcdc939"><div class="ttname"><a href="structevent.html#ab36786006bd272b70d17bdfb8fcdc939">event::label</a></div><div class="ttdeci">char label[100]</div><div class="ttdef"><b>Definition:</b> struc.h:78</div></div>
<div class="ttc" id="astructevent_html_aff19ea99812a1bde1467424c296f74f2"><div class="ttname"><a href="structevent.html#aff19ea99812a1bde1467424c296f74f2">event::lieu</a></div><div class="ttdeci">char lieu[100]</div><div class="ttdef"><b>Definition:</b> struc.h:77</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a85cfa50a790ad4070a6e12846b111a61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85cfa50a790ad4070a6e12846b111a61">&#9670;&nbsp;</a></span>createFilm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#a7be70f7244cbc0812a720373117ac45e">Film</a>* createFilm </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#a7be70f7244cbc0812a720373117ac45e">Film</a> *&#160;</td>
          <td class="paramname"><em>film</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#afbe8e138e1d2fd861f6c09f63954e927">Session</a> *&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Crée un nouveau film dans la base de données pour une session donnée. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">film</td><td>Pointeur vers le film à créer </td></tr>
    <tr><td class="paramname">session</td><td>Pointeur vers la session à laquelle le film appartient </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Film* Pointeur vers le film créé si la création a réussi, NULL sinon </dd></dl>
<div class="fragment"><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                                                              {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;     <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;     sprintf(query, <span class="stringliteral">&quot;insert into film (ses_id, titre, description, auteur) values(\&quot;%d\&quot;, \&quot;%s\&quot;,\&quot;%s\&quot;, \&quot;%s\&quot;)&quot;</span>, <a class="code" href="structsession.html">session</a>-&gt;<a class="code" href="structsession.html#a29ffa9635cf0b2dde142ffeb835c2f43">id</a>, <a class="code" href="structfilm.html">film</a>-&gt;<a class="code" href="structfilm.html#a4acbafdef3f4db6c506188b57b9aa1e6">titre</a>, <a class="code" href="structfilm.html">film</a>-&gt;<a class="code" href="structfilm.html#a956c048b78895d1e6b88a9f9ec0fd637">description</a>, <a class="code" href="structfilm.html">film</a>-&gt;<a class="code" href="structfilm.html#a1b51f780a844771f2ebd8e117bf0cdff">auteur</a>);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;     <span class="keywordtype">char</span> query2[] = <span class="stringliteral">&quot;select last_insert_id()&quot;</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;     mysql_query(db, query2);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;     row = mysql_fetch_row(result);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;     <a class="code" href="structfilm.html">film</a>-&gt;<a class="code" href="structfilm.html#a47a330f45cd7aa0cfbc059d9eeab1c78">id</a> = atoi(row[0]);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;     <a class="code" href="structfilm.html">film</a>-&gt;<a class="code" href="structfilm.html#a3573647ae7de9da9744bc8e1ca8618b4">session</a> = <a class="code" href="structsession.html">session</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;     <span class="keywordflow">return</span> <a class="code" href="structfilm.html">film</a>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div>
<div class="ttc" id="astructfilm_html"><div class="ttname"><a href="structfilm.html">film</a></div><div class="ttdoc">Structure représentant un film Cette structure représente un film et contient son identifiant,...</div><div class="ttdef"><b>Definition:</b> struc.h:42</div></div>
<div class="ttc" id="astructfilm_html_a1b51f780a844771f2ebd8e117bf0cdff"><div class="ttname"><a href="structfilm.html#a1b51f780a844771f2ebd8e117bf0cdff">film::auteur</a></div><div class="ttdeci">char auteur[100]</div><div class="ttdef"><b>Definition:</b> struc.h:46</div></div>
<div class="ttc" id="astructfilm_html_a3573647ae7de9da9744bc8e1ca8618b4"><div class="ttname"><a href="structfilm.html#a3573647ae7de9da9744bc8e1ca8618b4">film::session</a></div><div class="ttdeci">Session * session</div><div class="ttdef"><b>Definition:</b> struc.h:47</div></div>
<div class="ttc" id="astructfilm_html_a47a330f45cd7aa0cfbc059d9eeab1c78"><div class="ttname"><a href="structfilm.html#a47a330f45cd7aa0cfbc059d9eeab1c78">film::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> struc.h:43</div></div>
<div class="ttc" id="astructfilm_html_a4acbafdef3f4db6c506188b57b9aa1e6"><div class="ttname"><a href="structfilm.html#a4acbafdef3f4db6c506188b57b9aa1e6">film::titre</a></div><div class="ttdeci">char titre[100]</div><div class="ttdef"><b>Definition:</b> struc.h:44</div></div>
<div class="ttc" id="astructfilm_html_a956c048b78895d1e6b88a9f9ec0fd637"><div class="ttname"><a href="structfilm.html#a956c048b78895d1e6b88a9f9ec0fd637">film::description</a></div><div class="ttdeci">char description[100]</div><div class="ttdef"><b>Definition:</b> struc.h:45</div></div>
<div class="ttc" id="astructsession_html"><div class="ttname"><a href="structsession.html">session</a></div><div class="ttdoc">Structure représentant une session.</div><div class="ttdef"><b>Definition:</b> struc.h:117</div></div>
<div class="ttc" id="astructsession_html_a29ffa9635cf0b2dde142ffeb835c2f43"><div class="ttname"><a href="structsession.html#a29ffa9635cf0b2dde142ffeb835c2f43">session::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> struc.h:118</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8df4fb9e8e3dd4f7e5f5587e2d58b28d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8df4fb9e8e3dd4f7e5f5587e2d58b28d">&#9670;&nbsp;</a></span>createPlace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#ada528b7d640498194e7205985520646d">Place</a>* createPlace </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#ada528b7d640498194e7205985520646d">Place</a> *&#160;</td>
          <td class="paramname"><em>place</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction pour créer une nouvelle place dans la base de données pour un événement donné </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">place</td><td>Pointeur vers la place à créer </td></tr>
    <tr><td class="paramname">event</td><td>Pointeur vers l'événement pour lequel la place est créée </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Pointeur vers la place créée dans la base de données </dd></dl>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                                              {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;     <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;     sprintf(query, <span class="stringliteral">&quot;insert into place (eve_id, number) values(\&quot;%d\&quot;, \&quot;%d\&quot;)&quot;</span>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#a0a0a7d584539d22a52689acd33be40de">id</a>, <a class="code" href="structplace.html">place</a>-&gt;<a class="code" href="structplace.html#a44dd9a5288b603a5487d6556275da6e8">number</a>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;     <span class="keywordtype">char</span> query2[] = <span class="stringliteral">&quot;select last_insert_id()&quot;</span>;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;     mysql_query(db, query2);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;     row = mysql_fetch_row(result);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;     <a class="code" href="structplace.html">place</a>-&gt;<a class="code" href="structplace.html#a4157b92fc28e3ac81a6ef8eb420bd021">id</a> = atoi(row[0]);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;     <a class="code" href="structplace.html">place</a>-&gt;<a class="code" href="structplace.html#ae6c9df23260a268ea37510073e325d99">event</a> = <a class="code" href="structevent.html">event</a>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;     <span class="keywordflow">return</span> <a class="code" href="structplace.html">place</a>;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div>
<div class="ttc" id="astructevent_html_a0a0a7d584539d22a52689acd33be40de"><div class="ttname"><a href="structevent.html#a0a0a7d584539d22a52689acd33be40de">event::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> struc.h:75</div></div>
<div class="ttc" id="astructplace_html"><div class="ttname"><a href="structplace.html">place</a></div><div class="ttdoc">Structure représentant un emplacement.</div><div class="ttdef"><b>Definition:</b> struc.h:28</div></div>
<div class="ttc" id="astructplace_html_a4157b92fc28e3ac81a6ef8eb420bd021"><div class="ttname"><a href="structplace.html#a4157b92fc28e3ac81a6ef8eb420bd021">place::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> struc.h:29</div></div>
<div class="ttc" id="astructplace_html_a44dd9a5288b603a5487d6556275da6e8"><div class="ttname"><a href="structplace.html#a44dd9a5288b603a5487d6556275da6e8">place::number</a></div><div class="ttdeci">int number</div><div class="ttdef"><b>Definition:</b> struc.h:30</div></div>
<div class="ttc" id="astructplace_html_ae6c9df23260a268ea37510073e325d99"><div class="ttname"><a href="structplace.html#ae6c9df23260a268ea37510073e325d99">place::event</a></div><div class="ttdeci">Event * event</div><div class="ttdef"><b>Definition:</b> struc.h:32</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad85f2c9623c3c268cb933ec16a279598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad85f2c9623c3c268cb933ec16a279598">&#9670;&nbsp;</a></span>createPlat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#a2c54d8dd00dce800770714245e8956a3">Plat</a>* createPlat </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#a2c54d8dd00dce800770714245e8956a3">Plat</a> *&#160;</td>
          <td class="paramname"><em>plat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction pour créer un nouveau plat dans la base de données pour un événement donné </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">plat</td><td>Pointeur vers le plat à créer </td></tr>
    <tr><td class="paramname">event</td><td>Pointeur vers l'événement pour lequel le plat est créé </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Pointeur vers le plat créé dans la base de données </dd></dl>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                                                          {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;     <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;     sprintf(query, <span class="stringliteral">&quot;insert into plat (eve_id, label) values(\&quot;%d\&quot;, \&quot;%s\&quot;)&quot;</span>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#a0a0a7d584539d22a52689acd33be40de">id</a>, <a class="code" href="structplat.html">plat</a>-&gt;<a class="code" href="structplat.html#a75ec3944619439c064e974f49f279a08">label</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;     <span class="keywordtype">char</span> query2[] = <span class="stringliteral">&quot;select last_insert_id()&quot;</span>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;     mysql_query(db, query2);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;     row = mysql_fetch_row(result);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;     <a class="code" href="structplat.html">plat</a>-&gt;<a class="code" href="structplat.html#aa79fc2c7d59677037226936c69e05040">id</a> = atoi(row[0]);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;     <a class="code" href="structplat.html">plat</a>-&gt;<a class="code" href="structplat.html#a732011e4a5e49613f80d1896f477c034">event</a> = <a class="code" href="structevent.html">event</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;     <span class="keywordflow">return</span> <a class="code" href="structplat.html">plat</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
<div class="ttc" id="astructplat_html_a732011e4a5e49613f80d1896f477c034"><div class="ttname"><a href="structplat.html#a732011e4a5e49613f80d1896f477c034">plat::event</a></div><div class="ttdeci">Event * event</div><div class="ttdef"><b>Definition:</b> struc.h:105</div></div>
<div class="ttc" id="astructplat_html_a75ec3944619439c064e974f49f279a08"><div class="ttname"><a href="structplat.html#a75ec3944619439c064e974f49f279a08">plat::label</a></div><div class="ttdeci">char label[100]</div><div class="ttdef"><b>Definition:</b> struc.h:103</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9ca1372bc353c4f2b8513946c64f6e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9ca1372bc353c4f2b8513946c64f6e4">&#9670;&nbsp;</a></span>createReservation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void createReservation </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a> *&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#ada528b7d640498194e7205985520646d">Place</a> *&#160;</td>
          <td class="paramname"><em>place</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction pour créer une réservation dans la base de données pour un utilisateur et une place donnée. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">user</td><td>Pointeur vers l'utilisateur qui effectue la réservation </td></tr>
    <tr><td class="paramname">place</td><td>Pointeur vers la place réservée </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                                               {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;     <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;     sprintf(query, <span class="stringliteral">&quot;insert into reserver (use_id, pla_id) values(\&quot;%d\&quot;, \&quot;%d\&quot;)&quot;</span>, <a class="code" href="structuser.html">user</a>-&gt;<a class="code" href="structuser.html#a7c4bd95a9611df1bae140f2ce6648c5a">id</a>, <a class="code" href="structplace.html">place</a>-&gt;<a class="code" href="structplace.html#a4157b92fc28e3ac81a6ef8eb420bd021">id</a>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b359274b0442de3df9d4013ed6c4d1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b359274b0442de3df9d4013ed6c4d1f">&#9670;&nbsp;</a></span>createSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#afbe8e138e1d2fd861f6c09f63954e927">Session</a>* createSession </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#afbe8e138e1d2fd861f6c09f63954e927">Session</a> *&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Crée une nouvelle session dans la base de données pour un événement donné </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">session</td><td>Pointeur vers la session à créer </td></tr>
    <tr><td class="paramname">event</td><td>Pointeur vers l'événement auquel la session appartient </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Session* Pointeur vers la session créée si elle a été créée avec succès, NULL sinon </dd></dl>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                                                      {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;     <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;     sprintf(query, <span class="stringliteral">&quot;insert into session (eve_id, name, date_session) values(\&quot;%d\&quot;, \&quot;%s\&quot;,\&quot;%s\&quot;)&quot;</span>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#a0a0a7d584539d22a52689acd33be40de">id</a>, <a class="code" href="structsession.html">session</a>-&gt;<a class="code" href="structsession.html#a7d8f9b7d3450cd684ba092406e92bddd">name</a>, <a class="code" href="structsession.html">session</a>-&gt;<a class="code" href="structsession.html#a1b8098084c00a0fc14a81a08e477a8b9">dateSession</a>);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;     <span class="keywordtype">char</span> query2[] = <span class="stringliteral">&quot;select last_insert_id()&quot;</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;     mysql_query(db, query2);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;     row = mysql_fetch_row(result);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;     <a class="code" href="structsession.html">session</a>-&gt;<a class="code" href="structsession.html#a29ffa9635cf0b2dde142ffeb835c2f43">id</a> = atoi(row[0]);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;     <a class="code" href="structsession.html">session</a>-&gt;<a class="code" href="structsession.html#acdc3ec3972db9a769d2dac93e12bc839">event</a> = <a class="code" href="structevent.html">event</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;     <span class="keywordflow">return</span> <a class="code" href="structsession.html">session</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="ttc" id="astructsession_html_a1b8098084c00a0fc14a81a08e477a8b9"><div class="ttname"><a href="structsession.html#a1b8098084c00a0fc14a81a08e477a8b9">session::dateSession</a></div><div class="ttdeci">char dateSession[100]</div><div class="ttdef"><b>Definition:</b> struc.h:121</div></div>
<div class="ttc" id="astructsession_html_a7d8f9b7d3450cd684ba092406e92bddd"><div class="ttname"><a href="structsession.html#a7d8f9b7d3450cd684ba092406e92bddd">session::name</a></div><div class="ttdeci">char name[100]</div><div class="ttdef"><b>Definition:</b> struc.h:120</div></div>
<div class="ttc" id="astructsession_html_acdc3ec3972db9a769d2dac93e12bc839"><div class="ttname"><a href="structsession.html#acdc3ec3972db9a769d2dac93e12bc839">session::event</a></div><div class="ttdeci">Event * event</div><div class="ttdef"><b>Definition:</b> struc.h:122</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a656eebee439bd5f57805341746465b64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a656eebee439bd5f57805341746465b64">&#9670;&nbsp;</a></span>createTicket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#a2be6cff79d24682be3e84aa7b649d892">Ticket</a>* createTicket </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#a2be6cff79d24682be3e84aa7b649d892">Ticket</a> *&#160;</td>
          <td class="paramname"><em>ticket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a> *&#160;</td>
          <td class="paramname"><em>user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction pour créer un nouveau ticket dans la base de données pour un utilisateur et un événement donné </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">ticket</td><td>Pointeur vers le ticket à créer </td></tr>
    <tr><td class="paramname">event</td><td>Pointeur vers l'événement pour lequel le ticket est créé </td></tr>
    <tr><td class="paramname">user</td><td>Pointeur vers l'utilisateur qui achète le ticket </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Pointeur vers le ticket créé dans la base de données </dd></dl>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;     <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;     sprintf(query, <span class="stringliteral">&quot;insert into ticket (use_id, eve_id, number, date_ticket) values(\&quot;%d\&quot;, \&quot;%d\&quot;, \&quot;%d\&quot;,NOW())&quot;</span>, <a class="code" href="structuser.html">user</a>-&gt;<a class="code" href="structuser.html#a7c4bd95a9611df1bae140f2ce6648c5a">id</a>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#a0a0a7d584539d22a52689acd33be40de">id</a>, <a class="code" href="structticket.html">ticket</a>-&gt;<a class="code" href="structticket.html#ae4e090144335b1317a1512a5bc55ca52">number</a>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;     <span class="keywordtype">char</span> query2[] = <span class="stringliteral">&quot;select last_insert_id()&quot;</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;     mysql_query(db, query2);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;     row = mysql_fetch_row(result);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;     <a class="code" href="structticket.html">ticket</a>-&gt;<a class="code" href="structticket.html#ad3cd21ffd06c78b3260dfae33ddc4f93">id</a> = atoi(row[0]);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;     <a class="code" href="structticket.html">ticket</a>-&gt;<a class="code" href="structticket.html#aced945b3176bf99ac7f05d5c83c3d577">user</a> = <a class="code" href="structuser.html">user</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;     <a class="code" href="structticket.html">ticket</a>-&gt;<a class="code" href="structticket.html#a0d7972a4819d3457b28aa9a283723ec4">event</a>= <a class="code" href="structevent.html">event</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;     <span class="keywordflow">return</span> <a class="code" href="structticket.html">ticket</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div>
<div class="ttc" id="astructticket_html"><div class="ttname"><a href="structticket.html">ticket</a></div><div class="ttdoc">Structure représentant un billet Cette structure représente un billet et contient son identifiant,...</div><div class="ttdef"><b>Definition:</b> struc.h:58</div></div>
<div class="ttc" id="astructticket_html_a0d7972a4819d3457b28aa9a283723ec4"><div class="ttname"><a href="structticket.html#a0d7972a4819d3457b28aa9a283723ec4">ticket::event</a></div><div class="ttdeci">Event * event</div><div class="ttdef"><b>Definition:</b> struc.h:63</div></div>
<div class="ttc" id="astructticket_html_aced945b3176bf99ac7f05d5c83c3d577"><div class="ttname"><a href="structticket.html#aced945b3176bf99ac7f05d5c83c3d577">ticket::user</a></div><div class="ttdeci">User * user</div><div class="ttdef"><b>Definition:</b> struc.h:62</div></div>
<div class="ttc" id="astructticket_html_ad3cd21ffd06c78b3260dfae33ddc4f93"><div class="ttname"><a href="structticket.html#ad3cd21ffd06c78b3260dfae33ddc4f93">ticket::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition:</b> struc.h:59</div></div>
<div class="ttc" id="astructticket_html_ae4e090144335b1317a1512a5bc55ca52"><div class="ttname"><a href="structticket.html#ae4e090144335b1317a1512a5bc55ca52">ticket::number</a></div><div class="ttdeci">int number</div><div class="ttdef"><b>Definition:</b> struc.h:60</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c02e2ad6109da33dbb21de526f4b7b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c02e2ad6109da33dbb21de526f4b7b4">&#9670;&nbsp;</a></span>createUser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a>* createUser </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a> *&#160;</td>
          <td class="paramname"><em>user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;{</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;     <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;     sprintf(query, <span class="stringliteral">&quot;insert into user (fist_name, last_name, rule, email, password) values(\&quot;%s\&quot;, \&quot;%s\&quot;, \&quot;%s\&quot;,\&quot;%s\&quot;, \&quot;%s\&quot;)&quot;</span>, <a class="code" href="structuser.html">user</a>-&gt;<a class="code" href="structuser.html#a0792276da416bd247d09c1ae8e787bdc">firstName</a>, <a class="code" href="structuser.html">user</a>-&gt;<a class="code" href="structuser.html#a9d310b6efa62c8ea57993e23f034b3b9">lastName</a>, <a class="code" href="structuser.html">user</a>-&gt;<a class="code" href="structuser.html#ad5bcea9e95be6be0b14d638426888104">rule</a>, <a class="code" href="structuser.html">user</a>-&gt;<a class="code" href="structuser.html#a75e4d75591faf8a0ae89d2d46e70cd67">email</a>, <a class="code" href="structuser.html">user</a>-&gt;<a class="code" href="structuser.html#a4786f90608b0050c6dbf96490ebb6eea">password</a>);</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;     <span class="keywordtype">char</span> query2[] = <span class="stringliteral">&quot;select last_insert_id()&quot;</span>;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;     mysql_query(db, query2);</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;     row = mysql_fetch_row(result);</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;     <a class="code" href="structuser.html">user</a>-&gt;<a class="code" href="structuser.html#a7c4bd95a9611df1bae140f2ce6648c5a">id</a> = atoi(row[0]);</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;}</div>
<div class="ttc" id="astructuser_html_a0792276da416bd247d09c1ae8e787bdc"><div class="ttname"><a href="structuser.html#a0792276da416bd247d09c1ae8e787bdc">user::firstName</a></div><div class="ttdeci">char firstName[100]</div><div class="ttdef"><b>Definition:</b> struc.h:12</div></div>
<div class="ttc" id="astructuser_html_a9d310b6efa62c8ea57993e23f034b3b9"><div class="ttname"><a href="structuser.html#a9d310b6efa62c8ea57993e23f034b3b9">user::lastName</a></div><div class="ttdeci">char lastName[100]</div><div class="ttdef"><b>Definition:</b> struc.h:13</div></div>
<div class="ttc" id="astructuser_html_ad5bcea9e95be6be0b14d638426888104"><div class="ttname"><a href="structuser.html#ad5bcea9e95be6be0b14d638426888104">user::rule</a></div><div class="ttdeci">char rule[100]</div><div class="ttdef"><b>Definition:</b> struc.h:14</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adad22c1542fdbf5eedc5cab0416d7c59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adad22c1542fdbf5eedc5cab0416d7c59">&#9670;&nbsp;</a></span>deleteEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deleteEvent </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Supprime un événement de la base de données. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">event</td><td>Pointeur vers l'événement à supprimer </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                                          {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;     <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;     sprintf(query, <span class="stringliteral">&quot;delete from event where id=%d&quot;</span>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#a0a0a7d584539d22a52689acd33be40de">id</a>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;} </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae3c6cfaad3a60fe9b3a8585f4d68d1a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3c6cfaad3a60fe9b3a8585f4d68d1a8">&#9670;&nbsp;</a></span>getEvents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> * getEvents </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Récupère tous les événements stockés dans la base de données. Cette fonction se connecte à la base de données via le pointeur db fourni, et récupère tous les événements stockés dans la table "events". Elle renvoie un pointeur vers un tableau d'événements alloué dynamiquement. Si aucun événement n'est trouvé dans la base de données, la fonction renvoie NULL. </p>
<p>Récupère tous les événements de la base de données.</p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Pointeur vers un tableau d'événements, ou NULL si aucun événement n'est trouvé. </dd></dl>
<div class="fragment"><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                            {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_champs = 0;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *lengths;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;     <a class="code" href="structevent.html">Event</a> *eventTable =malloc(100 * <span class="keyword">sizeof</span>(<a class="code" href="structevent.html">Event</a>));</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;     sprintf(query, <span class="stringliteral">&quot;select * from event&quot;</span>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;     num_champs = mysql_num_fields(result);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;     <span class="keywordflow">while</span> ((row = mysql_fetch_row(result))){</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;          lengths = mysql_fetch_lengths(result);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;          eventTable[i].<a class="code" href="structevent.html#a0a0a7d584539d22a52689acd33be40de">id</a> = atoi(row[0]);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;          sprintf(eventTable[i].type, <span class="stringliteral">&quot;%s&quot;</span>, row[1]);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;          sprintf(eventTable[i].lieu, <span class="stringliteral">&quot;%s&quot;</span>, row[2]);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;          sprintf(eventTable[i].dateEvent, <span class="stringliteral">&quot;%s&quot;</span>, row[3]);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;          sprintf(eventTable[i].label, <span class="stringliteral">&quot;%s&quot;</span>, row[4]);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;          eventTable[i].<a class="code" href="structevent.html#a62c1beb0db32f84b15b49c5dd3d41e57">place</a> = <a class="code" href="function-bd_8c.html#adaee5408f4f783ab52d66026baabb539">getPlaceByEventId</a>(db, &amp;eventTable[i]);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;          eventTable[i].<a class="code" href="structevent.html#a0d708b97f7f046cead95d7ef16b52f9e">plat</a> = <a class="code" href="function-bd_8c.html#adbad9aa2a5a8e515f6bc7e563b614479">getPlatByEventId</a>(db, &amp;eventTable[i]);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;          eventTable[i].<a class="code" href="structevent.html#a21f00b2c677c83207a1606f485b61afb">session</a> = <a class="code" href="function-bd_8c.html#a206126954c808f6bf94a5aea8ecb1d19">getSessionByEventId</a>(db, &amp;eventTable[i]);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;          i++;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;     <span class="keywordflow">return</span> eventTable;   </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;}</div>
<div class="ttc" id="afunction-bd_8c_html_a206126954c808f6bf94a5aea8ecb1d19"><div class="ttname"><a href="function-bd_8c.html#a206126954c808f6bf94a5aea8ecb1d19">getSessionByEventId</a></div><div class="ttdeci">Session ** getSessionByEventId(MYSQL *db, Event *event)</div><div class="ttdoc">Récupère toutes les sessions associées à un événement donné dans la base de données.</div><div class="ttdef"><b>Definition:</b> function-bd.c:202</div></div>
<div class="ttc" id="afunction-bd_8c_html_adaee5408f4f783ab52d66026baabb539"><div class="ttname"><a href="function-bd_8c.html#adaee5408f4f783ab52d66026baabb539">getPlaceByEventId</a></div><div class="ttdeci">Place ** getPlaceByEventId(MYSQL *db, Event *event)</div><div class="ttdoc">Récupère toutes les places associées à un événement donné dans la base de données.</div><div class="ttdef"><b>Definition:</b> function-bd.c:227</div></div>
<div class="ttc" id="afunction-bd_8c_html_adbad9aa2a5a8e515f6bc7e563b614479"><div class="ttname"><a href="function-bd_8c.html#adbad9aa2a5a8e515f6bc7e563b614479">getPlatByEventId</a></div><div class="ttdeci">Plat ** getPlatByEventId(MYSQL *db, Event *event)</div><div class="ttdoc">Récupère tous les plats associés à un événement donné dans la base de données.</div><div class="ttdef"><b>Definition:</b> function-bd.c:178</div></div>
<div class="ttc" id="astructevent_html_a0d708b97f7f046cead95d7ef16b52f9e"><div class="ttname"><a href="structevent.html#a0d708b97f7f046cead95d7ef16b52f9e">event::plat</a></div><div class="ttdeci">Plat ** plat</div><div class="ttdef"><b>Definition:</b> struc.h:87</div></div>
<div class="ttc" id="astructevent_html_a21f00b2c677c83207a1606f485b61afb"><div class="ttname"><a href="structevent.html#a21f00b2c677c83207a1606f485b61afb">event::session</a></div><div class="ttdeci">Session ** session</div><div class="ttdef"><b>Definition:</b> struc.h:84</div></div>
<div class="ttc" id="astructevent_html_a62c1beb0db32f84b15b49c5dd3d41e57"><div class="ttname"><a href="structevent.html#a62c1beb0db32f84b15b49c5dd3d41e57">event::place</a></div><div class="ttdeci">Place ** place</div><div class="ttdef"><b>Definition:</b> struc.h:85</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98161e83bb97f93ff44200aced82e97e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98161e83bb97f93ff44200aced82e97e">&#9670;&nbsp;</a></span>getFilmBySessionId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#a7be70f7244cbc0812a720373117ac45e">Film</a>** getFilmBySessionId </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#afbe8e138e1d2fd861f6c09f63954e927">Session</a> *&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Récupère tous les films associés à une session donnée. Cette fonction se connecte à la base de données via le pointeur db fourni, et récupère tous les films associés à la session fournie dans la table "films". Elle renvoie un pointeur vers un tableau de films alloué dynamiquement. Si aucun film n'est trouvé dans la base de données pour la session fournie, la fonction renvoie NULL. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données. </td></tr>
    <tr><td class="paramname">session</td><td>Pointeur vers la session pour laquelle récupérer les films. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Pointeur vers un tableau de films, ou NULL si aucun film n'est trouvé. </dd></dl>
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                                                        {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_champs = 0;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *lengths;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;     <a class="code" href="structfilm.html">Film</a> **filmTable =malloc(100 * <span class="keyword">sizeof</span>(<a class="code" href="structfilm.html">Film</a>*));</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;     sprintf(query, <span class="stringliteral">&quot;select * from film inner join session on film.ses_id=session.id where session.id=%d&quot;</span>, <a class="code" href="structsession.html">session</a>-&gt;<a class="code" href="structsession.html#a29ffa9635cf0b2dde142ffeb835c2f43">id</a>);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;     num_champs = mysql_num_fields(result);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;     <span class="keywordflow">while</span> ((row = mysql_fetch_row(result))){</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;          <a class="code" href="structfilm.html">Film</a> * <a class="code" href="structfilm.html">film</a>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;          lengths = mysql_fetch_lengths(result);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;          sprintf(<a class="code" href="structfilm.html">film</a>-&gt;<a class="code" href="structfilm.html#a4acbafdef3f4db6c506188b57b9aa1e6">titre</a>, <span class="stringliteral">&quot;%s&quot;</span>, row[2]);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;          sprintf(<a class="code" href="structfilm.html">film</a>-&gt;<a class="code" href="structfilm.html#a956c048b78895d1e6b88a9f9ec0fd637">description</a>, <span class="stringliteral">&quot;%s&quot;</span>, row[3]);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;          sprintf(<a class="code" href="structfilm.html">film</a>-&gt;<a class="code" href="structfilm.html#a1b51f780a844771f2ebd8e117bf0cdff">auteur</a>, <span class="stringliteral">&quot;%s&quot;</span>, row[4]);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;          <a class="code" href="structfilm.html">film</a>-&gt;<a class="code" href="structfilm.html#a47a330f45cd7aa0cfbc059d9eeab1c78">id</a> = atoi(row[0]);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;          <a class="code" href="structfilm.html">film</a>-&gt;<a class="code" href="structfilm.html#a3573647ae7de9da9744bc8e1ca8618b4">session</a> = <a class="code" href="structsession.html">session</a>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;          filmTable[i] = <a class="code" href="structfilm.html">film</a>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;          i++;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;     <span class="keywordflow">return</span> filmTable;   </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adaee5408f4f783ab52d66026baabb539"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaee5408f4f783ab52d66026baabb539">&#9670;&nbsp;</a></span>getPlaceByEventId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#ada528b7d640498194e7205985520646d">Place</a>** getPlaceByEventId </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Récupère toutes les places associées à un événement donné dans la base de données. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">event</td><td>Pointeur vers l'événement pour lequel récupérer les places </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Place** Tableau de pointeurs vers les places associées à l'événement </dd></dl>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                                                    {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_champs = 0;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *lengths;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;     <a class="code" href="structplace.html">Place</a> **placeTable =malloc(100 * <span class="keyword">sizeof</span>(<a class="code" href="structplace.html">Place</a>*));</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;     sprintf(query, <span class="stringliteral">&quot;select * from place inner join event on place.eve_id=event.id where event.id=%d&quot;</span>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#a0a0a7d584539d22a52689acd33be40de">id</a>);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;     num_champs = mysql_num_fields(result);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;     <span class="keywordflow">while</span> ((row = mysql_fetch_row(result))){</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;          <a class="code" href="structplace.html">Place</a> * <a class="code" href="structplace.html">place</a> = malloc(100 * <span class="keyword">sizeof</span>(<a class="code" href="structplace.html">Place</a>));</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;          lengths = mysql_fetch_lengths(result);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;          <a class="code" href="structplace.html">place</a>-&gt;<a class="code" href="structplace.html#a44dd9a5288b603a5487d6556275da6e8">number</a>= atoi(row[2]);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;          <a class="code" href="structplace.html">place</a>-&gt;<a class="code" href="structplace.html#a4157b92fc28e3ac81a6ef8eb420bd021">id</a> = atoi(row[0]);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;          <a class="code" href="structplace.html">place</a>-&gt;<a class="code" href="structplace.html#ae6c9df23260a268ea37510073e325d99">event</a> = <a class="code" href="structevent.html">event</a>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;          placeTable[i] = <a class="code" href="structplace.html">place</a>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;          i++;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;     <span class="keywordflow">return</span> placeTable;   </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adbad9aa2a5a8e515f6bc7e563b614479"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbad9aa2a5a8e515f6bc7e563b614479">&#9670;&nbsp;</a></span>getPlatByEventId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#a2c54d8dd00dce800770714245e8956a3">Plat</a>** getPlatByEventId </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Récupère tous les plats associés à un événement donné dans la base de données. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">event</td><td>Pointeur vers l'événement pour lequel récupérer les plats </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Plat** Tableau de pointeurs vers les plats associés à l'événement </dd></dl>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                                  {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_champs = 0;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *lengths;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;     <a class="code" href="structplat.html">Plat</a> **platTable = malloc(100 * <span class="keyword">sizeof</span>(<a class="code" href="structplat.html">Plat</a>*));</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;     sprintf(query, <span class="stringliteral">&quot;select * from plat inner join event on plat.eve_id=event.id where event.id=%d&quot;</span>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#a0a0a7d584539d22a52689acd33be40de">id</a>);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;     num_champs = mysql_num_fields(result);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;     <span class="keywordflow">while</span> ((row = mysql_fetch_row(result))){</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;          <a class="code" href="structplat.html">Plat</a> * <a class="code" href="structplat.html">plat</a> = malloc(100 * <span class="keyword">sizeof</span>(<a class="code" href="structplat.html">Plat</a>));</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;          lengths = mysql_fetch_lengths(result);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;          sprintf(<a class="code" href="structplat.html">plat</a>-&gt;<a class="code" href="structplat.html#a75ec3944619439c064e974f49f279a08">label</a>, <span class="stringliteral">&quot;%s&quot;</span>, row[2]);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;          <a class="code" href="structplat.html">plat</a>-&gt;<a class="code" href="structplat.html#aa79fc2c7d59677037226936c69e05040">id</a> = atoi(row[0]);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;          <a class="code" href="structplat.html">plat</a>-&gt;<a class="code" href="structplat.html#a732011e4a5e49613f80d1896f477c034">event</a> = <a class="code" href="structevent.html">event</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;          platTable[i] = <a class="code" href="structplat.html">plat</a>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;          i++;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;     <span class="keywordflow">return</span> platTable;   </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a206126954c808f6bf94a5aea8ecb1d19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a206126954c808f6bf94a5aea8ecb1d19">&#9670;&nbsp;</a></span>getSessionByEventId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#afbe8e138e1d2fd861f6c09f63954e927">Session</a>** getSessionByEventId </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Récupère toutes les sessions associées à un événement donné dans la base de données. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">event</td><td>Pointeur vers l'événement pour lequel récupérer les sessions </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Session** Tableau de pointeurs vers les sessions associées à l'événement </dd></dl>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                                                        {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_champs = 0;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *lengths;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;     <a class="code" href="structsession.html">Session</a> **sessionTable =malloc(100 * <span class="keyword">sizeof</span>(<a class="code" href="structsession.html">Session</a>*));</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;     sprintf(query, <span class="stringliteral">&quot;select * from session inner join event on session.eve_id=event.id where event.id=%d&quot;</span>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#a0a0a7d584539d22a52689acd33be40de">id</a>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;     num_champs = mysql_num_fields(result);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;     <span class="keywordflow">while</span> ((row = mysql_fetch_row(result))){</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;          <a class="code" href="structsession.html">Session</a> * <a class="code" href="structsession.html">session</a> = malloc(100 * <span class="keyword">sizeof</span>(<a class="code" href="structsession.html">Session</a>));</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;          lengths = mysql_fetch_lengths(result);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;          sprintf(<a class="code" href="structsession.html">session</a>-&gt;<a class="code" href="structsession.html#a7d8f9b7d3450cd684ba092406e92bddd">name</a>, <span class="stringliteral">&quot;%s&quot;</span>, row[2]);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;          sprintf(<a class="code" href="structsession.html">session</a>-&gt;<a class="code" href="structsession.html#a1b8098084c00a0fc14a81a08e477a8b9">dateSession</a>, <span class="stringliteral">&quot;%s&quot;</span>, row[3]);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;          <a class="code" href="structsession.html">session</a>-&gt;<a class="code" href="structsession.html#a29ffa9635cf0b2dde142ffeb835c2f43">id</a> = atoi(row[0]);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;          <span class="comment">// sessionTable[i]-&gt;film=getFilmBySessionId(db, session);</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;          <a class="code" href="structsession.html">session</a>-&gt;<a class="code" href="structsession.html#acdc3ec3972db9a769d2dac93e12bc839">event</a> = <a class="code" href="structevent.html">event</a>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;          sessionTable[i] = <a class="code" href="structsession.html">session</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;          i++;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;     <span class="keywordflow">return</span> sessionTable;   </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa1356d9f82b02a369219b7476d75250d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1356d9f82b02a369219b7476d75250d">&#9670;&nbsp;</a></span>getTicketByUserId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#a2be6cff79d24682be3e84aa7b649d892">Ticket</a>* getTicketByUserId </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a> *&#160;</td>
          <td class="paramname"><em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> **&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Récupère le ticket associé à un utilisateur et à un événement donnés dans la base de données. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">user</td><td>Pointeur vers l'utilisateur pour lequel récupérer le ticket </td></tr>
    <tr><td class="paramname">event</td><td>Pointeur vers l'événement pour lequel récupérer le ticket </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Ticket* Pointeur vers le ticket associé à l'utilisateur et à l'événement </dd></dl>
<div class="fragment"><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                                                 {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_champs = 0;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *lengths;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;     <a class="code" href="structticket.html">Ticket</a> *ticketTable =malloc(100 * <span class="keyword">sizeof</span>(<a class="code" href="structticket.html">Ticket</a>));</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;     sprintf(query, <span class="stringliteral">&quot;select * from ticket inner join user on ticket.use_id=user.id where user.id=%d&quot;</span>, <a class="code" href="structuser.html">user</a>-&gt;<a class="code" href="structuser.html#a7c4bd95a9611df1bae140f2ce6648c5a">id</a>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;     num_champs = mysql_num_fields(result);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;     <span class="keywordflow">while</span> ((row = mysql_fetch_row(result))){</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;          lengths = mysql_fetch_lengths(result);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;          ticketTable[i].<a class="code" href="structticket.html#ae4e090144335b1317a1512a5bc55ca52">number</a>= row[3];</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;          ticketTable[i].<a class="code" href="structticket.html#ad3cd21ffd06c78b3260dfae33ddc4f93">id</a> = atoi(row[0]);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;          sprintf(ticketTable[i].dateTicket, <span class="stringliteral">&quot;%s&quot;</span>, row[4]);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;          ticketTable[i].<a class="code" href="structticket.html#aced945b3176bf99ac7f05d5c83c3d577">user</a>= <a class="code" href="structuser.html">user</a>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;          <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j =0; j &lt;100; j++){</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;               <span class="keywordflow">if</span>(<a class="code" href="structevent.html">event</a>[j]!=NULL &amp;&amp; <a class="code" href="structevent.html">event</a>[j]-&gt;<span class="keywordtype">id</span>==row[2]){</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    ticketTable[i].<a class="code" href="structticket.html#a0d7972a4819d3457b28aa9a283723ec4">event</a>= <span class="keyword">event</span>[j];</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;               }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;          }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;          i++;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;     <span class="keywordflow">return</span> ticketTable;   </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a08279cf6a88accd06743c978a8b50473"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08279cf6a88accd06743c978a8b50473">&#9670;&nbsp;</a></span>getUsers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#af0288466725cf045591f80a7878cd7f2">User</a>* getUsers </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction pour créer un nouvel utilisateur dans la base de données. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">user</td><td>Pointeur vers l'utilisateur à créer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Pointeur vers l'utilisateur créé dans la base de données / User <a class="el" href="function-bd_8c.html#a3c02e2ad6109da33dbb21de526f4b7b4">createUser(MYSQL * db,User * user)</a>; /**</dd></dl>
<p>Fonction pour créer un nouvel événement dans la base de données </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">event</td><td>Pointeur vers l'événement à créer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Pointeur vers l'événement créé dans la base de données / Event <a class="el" href="function-bd_8c.html#a795bf925a246abd3a1984e7dc733db7c">createEvent(MYSQL * db,Event * event)</a>; /**</dd></dl>
<p>Fonction pour récupérer tous les utilisateurs de la base de données </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Pointeur vers un tableau d'utilisateurs récupérés depuis la base de données </dd></dl>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;     <span class="keywordtype">char</span> query[] = <span class="stringliteral">&quot;select * from user&quot;</span>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;     <a class="code" href="structuser.html">User</a> *userTable =malloc(100 * <span class="keyword">sizeof</span>(<a class="code" href="structuser.html">User</a>));</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_champs = 0;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> *lengths;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;     result = mysql_store_result(db);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;     num_champs = mysql_num_fields(result);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;     <span class="keywordflow">while</span> ((row = mysql_fetch_row(result))){</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;          lengths = mysql_fetch_lengths(result);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;          sprintf(userTable[i].firstName, <span class="stringliteral">&quot;%s&quot;</span>, row[1]);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;          sprintf(userTable[i].lastName, <span class="stringliteral">&quot;%s&quot;</span>, row[2]);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;          sprintf(userTable[i].rule, <span class="stringliteral">&quot;%s&quot;</span>, row[3]);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;          sprintf(userTable[i].email, <span class="stringliteral">&quot;%s&quot;</span>, row[4]);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;          sprintf(userTable[i].password, <span class="stringliteral">&quot;%s&quot;</span>, row[5]);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;          userTable[i].<a class="code" href="structuser.html#a7c4bd95a9611df1bae140f2ce6648c5a">id</a> = atoi(row[0]);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;          i++;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      <span class="keywordflow">return</span> userTable;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3fe9e952d0bb9ecf509b6d69f3be49d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe9e952d0bb9ecf509b6d69f3be49d9">&#9670;&nbsp;</a></span>updateEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a>* updateEvent </td>
          <td>(</td>
          <td class="paramtype">MYSQL *&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struc_8h.html#ab2f494a6b60c0f52e6c2a96fbe4d010c">Event</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Met à jour un événement dans la base de données. </p>
<dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramname">db</td><td>Pointeur vers la base de données </td></tr>
    <tr><td class="paramname">event</td><td>Pointeur vers l'événement à mettre à jour </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Event* Pointeur vers l'événement mis à jour si la mise à jour a réussi, NULL sinon </dd></dl>
<div class="fragment"><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;     MYSQL_RES *result = NULL;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;     MYSQL_ROW row;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;     <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;     <span class="keywordtype">char</span> query[1000];</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;     sprintf(query, <span class="stringliteral">&quot;update event set type=\&quot;%s\&quot;, place=\&quot;%s\&quot;, date_event=\&quot;%s\&quot;, label=\&quot;%s\&quot; where id=%d&quot;</span>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#a85cb31e3168290349d1d413cd16d5e6d">type</a>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#aff19ea99812a1bde1467424c296f74f2">lieu</a>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#a3fa0d88aa80ecf108a74c45e8c0e71c5">dateEvent</a>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#ab36786006bd272b70d17bdfb8fcdc939">label</a>, <a class="code" href="structevent.html">event</a>-&gt;<a class="code" href="structevent.html#a0a0a7d584539d22a52689acd33be40de">id</a>);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;     mysql_query(db, query);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;     <span class="keywordflow">return</span> <a class="code" href="structevent.html">event</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré par&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
